{"ast":null,"code":"import _asyncToGenerator from \"/Users/martin.perez.cobo/Documents/Repositories/Academics-FrontEnd/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, Validators } from \"@angular/forms\";\nimport AuthenticationService from \"../../../../services/AuthenticationService\";\nimport AuthLoginDetails from \"../../../../../models/dtos/AuthLoginDetails\";\nimport ToastService from \"../../../../services/ToastService\";\nimport UserService from \"../../../../services/UserService\";\nimport AuthenticatorService from \"../../../../services/AuthenticatorService\";\nimport ThemeService, { EThemeOptions } from \"../../../../services/ThemeService\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/input\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/icon\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/chips\";\nfunction AuthenticateComponent_div_12_mat_error_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r8.getErrorMessage(ctx_r8.email));\n  }\n}\nfunction AuthenticateComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"mat-form-field\", 17)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 18);\n    i0.ɵɵtemplate(5, AuthenticateComponent_div_12_mat_error_5_Template, 2, 1, \"mat-error\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r0.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.email.invalid);\n  }\n}\nfunction AuthenticateComponent_div_13_mat_error_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.getErrorMessage(ctx_r9.password));\n  }\n}\nfunction AuthenticateComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"mat-form-field\", 17)(2, \"mat-label\");\n    i0.ɵɵtext(3, \"Enter your password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"input\", 20);\n    i0.ɵɵtemplate(5, AuthenticateComponent_div_13_mat_error_5_Template, 2, 1, \"mat-error\", 19);\n    i0.ɵɵelementStart(6, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_div_13_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.hide_password = !ctx_r10.hide_password);\n    });\n    i0.ɵɵelementStart(7, \"mat-icon\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControl\", ctx_r1.password)(\"type\", ctx_r1.hide_password ? \"password\" : \"text\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.password.invalid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", \"Hide password\")(\"aria-pressed\", ctx_r1.hide_password);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.hide_password ? \"visibility_off\" : \"visibility\");\n  }\n}\nfunction AuthenticateComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelement(1, \"i\", 23);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AuthenticateComponent_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.submitEmail());\n    });\n    i0.ɵɵtext(1, \" Next \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AuthenticateComponent_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.submitPassword());\n    });\n    i0.ɵɵtext(1, \"Login \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AuthenticateComponent_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.auth_type = ctx_r16.AuthStagesEnum.EMAIL);\n    });\n    i0.ɵɵtext(1, \" Back \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AuthenticateComponent_mat_chip_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-chip\", 14);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_mat_chip_28_Template_mat_chip_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.theme_service.setTheme(ctx_r18.EThemeOptions.DARK_THEME));\n    });\n    i0.ɵɵelementStart(1, \"div\", 26)(2, \"mat-icon\", 27);\n    i0.ɵɵelement(3, \"i\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Dark Mode \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AuthenticateComponent_mat_chip_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-chip\", 14);\n    i0.ɵɵlistener(\"click\", function AuthenticateComponent_mat_chip_29_Template_mat_chip_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.theme_service.setTheme(ctx_r20.EThemeOptions.LIGHT_THEME));\n    });\n    i0.ɵɵelementStart(1, \"div\", 26)(2, \"mat-icon\", 27);\n    i0.ɵɵelement(3, \"i\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Light Mode \");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class AuthenticateComponent {\n  constructor(auth_service, authenticator_service, user_service, toast_service, router, theme_service) {\n    this.auth_service = auth_service;\n    this.authenticator_service = authenticator_service;\n    this.user_service = user_service;\n    this.toast_service = toast_service;\n    this.router = router;\n    this.theme_service = theme_service;\n    this.auth_type = AuthStagesEnum.EMAIL;\n    this.email = new FormControl('', [Validators.required, Validators.email, Validators.pattern(\"^[A-Za-z0-9._%+-]+@ucema\\\\.edu\\\\.ar$\")]);\n    this.password = new FormControl('', [Validators.required]);\n    this.hide_password = true;\n    this.AuthStagesEnum = AuthStagesEnum;\n    this.window = window;\n    this.EThemeOptions = EThemeOptions;\n  }\n  getErrorMessage(element) {\n    if (element.hasError('required')) {\n      return 'Required';\n    }\n    if (element.hasError('email') || element.hasError('pattern')) {\n      return 'Not a valid email';\n    }\n    return null;\n  }\n  submitEmail() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.email.valid && _this.email.value) {\n        if (yield _this.authenticator_service.userHasAuthenticators(_this.email.value)) {\n          _this.auth_type = AuthStagesEnum.WEBAUTHNLOGIN;\n          yield _this.submitWebAuthn();\n        } else {\n          _this.auth_type = AuthStagesEnum.CREDENTIALS;\n        }\n      } else {\n        _this.email.markAsTouched();\n      }\n    })();\n  }\n  submitPassword() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.password.valid) {\n        let authLoginDetails = new AuthLoginDetails();\n        authLoginDetails.setUsername(String(_this2.email.value));\n        authLoginDetails.setPassword(String(_this2.password.value));\n        if (yield _this2.auth_service.authenticatePassword(authLoginDetails)) {\n          _this2.router.navigate(['/']);\n        } else {\n          _this2.auth_type = AuthStagesEnum.CREDENTIALS;\n        }\n      } else {\n        _this2.password.markAsTouched();\n      }\n    })();\n  }\n  submitWebAuthn() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.auth_type = AuthStagesEnum.WEBAUTHNLOGIN;\n      let authLoginDetails = new AuthLoginDetails();\n      authLoginDetails.setUsername(String(_this3.email.value));\n      if (yield _this3.auth_service.startAuthnLogin(authLoginDetails)) {\n        yield _this3.router.navigate(['/']);\n      } else {\n        _this3.auth_type = AuthStagesEnum.CREDENTIALS;\n      }\n    })();\n  }\n  static {\n    this.ɵfac = function AuthenticateComponent_Factory(t) {\n      return new (t || AuthenticateComponent)(i0.ɵɵdirectiveInject(AuthenticationService), i0.ɵɵdirectiveInject(AuthenticatorService), i0.ɵɵdirectiveInject(UserService), i0.ɵɵdirectiveInject(ToastService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(ThemeService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AuthenticateComponent,\n      selectors: [[\"app-authenticate\"]],\n      decls: 30,\n      vars: 8,\n      consts: [[1, \"component\", \"mat-app-background\"], [1, \"component__side-background\"], [1, \"component__form\"], [1, \"form\"], [1, \"form__header\"], [1, \"form__header__title\"], [1, \"form__header__subtitle\"], [1, \"form__body\"], [\"class\", \"form__body__input\", 4, \"ngIf\"], [\"class\", \"form__body__input-webauthn\", 4, \"ngIf\"], [1, \"form__body__actions\"], [\"color\", \"primary\", \"mat-flat-button\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"mat-flat-button\", \"\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"related-links\"], [3, \"click\"], [3, \"click\", 4, \"ngIf\"], [1, \"form__body__input\"], [\"hideRequiredMarker\", \"true\"], [\"matInput\", \"\", \"required\", \"\", 3, \"formControl\"], [4, \"ngIf\"], [\"matInput\", \"\", 3, \"formControl\", \"type\"], [\"mat-icon-button\", \"\", \"matSuffix\", \"\", 3, \"click\"], [1, \"form__body__input-webauthn\"], [1, \"bi\", \"bi-fingerprint\", 2, \"font-size\", \"5rem\"], [\"color\", \"primary\", \"mat-flat-button\", \"\", \"type\", \"button\", 3, \"click\"], [\"mat-flat-button\", \"\", \"type\", \"button\", 3, \"click\"], [1, \"d-flex\", \"flex-row\", \"justify-content-center\", \"justify-items-center\", \"align-content-center\", \"align-items-center\", \"column-gap-1\"], [1, \"d-flex\", \"flex-row\", \"justify-content-center\", \"justify-items-center\", \"align-content-center\", \"align-items-center\"], [1, \"bi\", \"bi-moon-fill\", 2, \"font-size\", \"1.1rem\"], [1, \"bi\", \"bi-sun-fill\", 2, \"font-size\", \"1.25rem\"]],\n      template: function AuthenticateComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵelement(1, \"div\", 1);\n          i0.ɵɵelementStart(2, \"div\", 2)(3, \"form\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h4\");\n          i0.ɵɵtext(7, \"Sign in with your UCEMA ID\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"p\");\n          i0.ɵɵtext(10, \"Get access to your academic details.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"div\", 7);\n          i0.ɵɵtemplate(12, AuthenticateComponent_div_12_Template, 6, 2, \"div\", 8);\n          i0.ɵɵtemplate(13, AuthenticateComponent_div_13_Template, 9, 6, \"div\", 8);\n          i0.ɵɵtemplate(14, AuthenticateComponent_div_14_Template, 2, 0, \"div\", 9);\n          i0.ɵɵelementStart(15, \"div\", 10);\n          i0.ɵɵtemplate(16, AuthenticateComponent_button_16_Template, 2, 0, \"button\", 11);\n          i0.ɵɵtemplate(17, AuthenticateComponent_button_17_Template, 2, 0, \"button\", 11);\n          i0.ɵɵtemplate(18, AuthenticateComponent_button_18_Template, 2, 0, \"button\", 12);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(19, \"div\", 13)(20, \"mat-chip\", 14);\n          i0.ɵɵlistener(\"click\", function AuthenticateComponent_Template_mat_chip_click_20_listener() {\n            return ctx.window.open(\"mailto:alumnosgrado@ucema.edu.ar\", \"_self\");\n          });\n          i0.ɵɵtext(21, \" Alumnos Grado \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"mat-chip\", 14);\n          i0.ɵɵlistener(\"click\", function AuthenticateComponent_Template_mat_chip_click_22_listener() {\n            return ctx.window.open(\"mailto:alumnosposgrado@ucema.edu.ar\", \"_self\");\n          });\n          i0.ɵɵtext(23, \" Alumnos Posgrado \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"mat-chip\", 14);\n          i0.ɵɵlistener(\"click\", function AuthenticateComponent_Template_mat_chip_click_24_listener() {\n            return ctx.window.open(\"mailto:cobranzas@ucema.edu.ar\", \"_self\");\n          });\n          i0.ɵɵtext(25, \" Tesoreria \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"mat-chip\", 14);\n          i0.ɵɵlistener(\"click\", function AuthenticateComponent_Template_mat_chip_click_26_listener() {\n            return ctx.window.open(\"mailto:biblioteca@ucema.edu.ar\", \"_self\");\n          });\n          i0.ɵɵtext(27, \" Bilbioteca \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(28, AuthenticateComponent_mat_chip_28_Template, 5, 0, \"mat-chip\", 15);\n          i0.ɵɵtemplate(29, AuthenticateComponent_mat_chip_29_Template, 5, 0, \"mat-chip\", 15);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.EMAIL);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.CREDENTIALS);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.WEBAUTHNLOGIN);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.EMAIL);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.CREDENTIALS);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.auth_type == ctx.AuthStagesEnum.CREDENTIALS);\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", ctx.theme_service.getTheme() == ctx.EThemeOptions.LIGHT_THEME);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.theme_service.getTheme() == ctx.EThemeOptions.DARK_THEME);\n        }\n      },\n      dependencies: [i2.NgIf, i3.MatInput, i4.MatFormField, i4.MatLabel, i4.MatError, i4.MatSuffix, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.FormControlDirective, i6.MatIcon, i7.MatButton, i7.MatIconButton, i8.MatChip],\n      styles: [\"p[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\nh2[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.component[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  grid-template-rows: 1fr;\\n  justify-content: center;\\n  align-items: center;\\n  column-gap: 0;\\n  height: 100vh;\\n  width: 100vw;\\n}\\n.component__side-background[_ngcontent-%COMP%] {\\n  height: 100%;\\n  background: #940028 url(\\\"/assets/ucema-students-background.jpg\\\");\\n}\\n.component__form[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-rows: 1fr max-content;\\n  justify-content: stretch;\\n  align-items: flex-start;\\n  height: 100%;\\n  padding: 6rem 8rem;\\n}\\n\\n.form[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: max-content 1fr;\\n  justify-items: stretch;\\n  justify-content: flex-start;\\n  row-gap: 2rem;\\n  width: 100%;\\n  border: none;\\n}\\n.form__header[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  justify-items: flex-start;\\n  row-gap: 1.5rem;\\n  border: none;\\n}\\n.form__header__title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-size: 1.4rem;\\n  font-weight: 600;\\n  margin: 0;\\n  line-height: 1;\\n}\\n.form__header__subtitle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 1.1rem;\\n  font-weight: 300;\\n  margin: 0;\\n  line-height: 1;\\n}\\n.form__body[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  row-gap: 0.8rem;\\n  border: none;\\n}\\n.form__body__input[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  height: max-content;\\n  width: 75%;\\n}\\n.form__body__input-webauthn[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  justify-items: center;\\n  align-items: center;\\n  height: max-content;\\n  padding: 2rem 0;\\n}\\n.form__body__input-webauthn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 1.5rem;\\n}\\n.form__body__input-webauthn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 5rem;\\n}\\n.form__body__actions[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  justify-content: flex-start;\\n  align-items: center;\\n  column-gap: 1rem;\\n}\\n.form__body__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  grid-row: 1/2;\\n}\\n.form__body__actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  grid-row: 1/2;\\n}\\n\\n.related-links[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-rows: 1fr;\\n  justify-content: flex-start;\\n  align-items: center;\\n  column-gap: 1rem;\\n  border: none;\\n}\\n.related-links[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%] {\\n  grid-row: 1/2;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9hdXRoZW50aWNhdGUvY29tcG9uZW50cy9hdXRoZW50aWNhdGUvYXV0aGVudGljYXRlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsU0FBQTtBQUNGOztBQUVBO0VBQ0UsU0FBQTtBQUNGOztBQUtBO0VBQ0UsZ0JBQUE7QUFGRjs7QUFLQTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLHVCQUFBO0VBRUEsdUJBQUE7RUFDQSxtQkFBQTtFQUVBLGFBQUE7RUFFQSxhQUFBO0VBQ0EsWUFBQTtBQUxGO0FBT0U7RUFDRSxZQUFBO0VBQ0EsZ0VBQUE7QUFMSjtBQVdFO0VBQ0UsYUFBQTtFQUNBLG1DQUFBO0VBRUEsd0JBQUE7RUFDQSx1QkFBQTtFQUVBLFlBQUE7RUFFQSxrQkFBQTtBQVpKOztBQWdCQTtFQUNFLGFBQUE7RUFDQSwwQkFBQTtFQUNBLG1DQUFBO0VBRUEsc0JBQUE7RUFDQSwyQkFBQTtFQUVBLGFBQUE7RUFFQSxXQUFBO0VBRUEsWUFwRGM7QUFtQ2hCO0FBbUJFO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0VBRUEseUJBQUE7RUFFQSxlQUFBO0VBRUEsWUE5RFk7QUEwQ2hCO0FBdUJNO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7RUFDQSxjQUFBO0FBckJSO0FBMEJNO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7RUFDQSxjQUFBO0FBeEJSO0FBNkJFO0VBQ0UsYUFBQTtFQUNBLDBCQUFBO0VBRUEsZUFBQTtFQUVBLFlBekZZO0FBNERoQjtBQStCSTtFQUNFLGFBQUE7RUFDQSwwQkFBQTtFQUVBLDJCQUFBO0VBQ0EsdUJBQUE7RUFFQSxtQkFBQTtFQUNBLFVBQUE7QUEvQk47QUFrQ0k7RUFDRSxhQUFBO0VBQ0EsMEJBQUE7RUFFQSxxQkFBQTtFQUNBLG1CQUFBO0VBRUEsbUJBQUE7RUFDQSxlQUFBO0FBbENOO0FBb0NNO0VBQ0UsaUJBQUE7QUFsQ1I7QUFxQ007RUFDRSxlQUFBO0FBbkNSO0FBdUNJO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBRUEsMkJBQUE7RUFDQSxtQkFBQTtFQUVBLGdCQUFBO0FBdkNOO0FBeUNNO0VBQ0UsYUFBQTtBQXZDUjtBQTBDTTtFQUNFLGFBQUE7QUF4Q1I7O0FBOENBO0VBQ0UsYUFBQTtFQUNBLHVCQUFBO0VBRUEsMkJBQUE7RUFDQSxtQkFBQTtFQUVBLGdCQUFBO0VBRUEsWUF0SmM7QUF3R2hCO0FBZ0RFO0VBQ0UsYUFBQTtBQTlDSjs7QUFrREE7RUFDRSxTQUFBO0FBL0NGIiwic291cmNlc0NvbnRlbnQiOlsicCB7XG4gIG1hcmdpbjogMDtcbn1cblxuaDIge1xuICBtYXJnaW46IDA7XG59XG5cbiRjb21wb25lbnQtYm9yZGVyLXJhZGl1czogM3B4O1xuJGRlYnVnLWJvcmRlcnM6IG5vbmU7XG5cbi5idG4ge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uY29tcG9uZW50IHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjtcblxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICBjb2x1bW4tZ2FwOiAwO1xuXG4gIGhlaWdodDogMTAwdmg7XG4gIHdpZHRoOiAxMDB2dztcblxuICAmX19zaWRlLWJhY2tncm91bmQge1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBiYWNrZ3JvdW5kOiAjOTQwMDI4IHVybChcIi9hc3NldHMvdWNlbWEtc3R1ZGVudHMtYmFja2dyb3VuZC5qcGdcIik7XG5cbiAgICBpbWcge1xuICAgIH1cbiAgfVxuXG4gICZfX2Zvcm0ge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgbWF4LWNvbnRlbnQ7XG5cbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cbiAgICBoZWlnaHQ6IDEwMCU7XG5cbiAgICBwYWRkaW5nOiA2cmVtIDhyZW07XG4gIH1cbn1cblxuLmZvcm0ge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXgtY29udGVudCAxZnI7XG5cbiAganVzdGlmeS1pdGVtczogc3RyZXRjaDtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuXG4gIHJvdy1nYXA6IDJyZW07XG5cbiAgd2lkdGg6IDEwMCU7XG5cbiAgYm9yZGVyOiAkZGVidWctYm9yZGVycztcblxuICAmX19oZWFkZXIge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG5cbiAgICBqdXN0aWZ5LWl0ZW1zOiBmbGV4LXN0YXJ0O1xuXG4gICAgcm93LWdhcDogMS41cmVtO1xuXG4gICAgYm9yZGVyOiAkZGVidWctYm9yZGVycztcblxuICAgICZfX3RpdGxlIHtcbiAgICAgIGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAxLjRyZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgJl9fc3VidGl0bGUge1xuICAgICAgcCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgICAgICBmb250LXdlaWdodDogMzAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gICZfX2JvZHkge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG5cbiAgICByb3ctZ2FwOiAuOHJlbTtcbiAgICBcbiAgICBib3JkZXI6ICRkZWJ1Zy1ib3JkZXJzO1xuXG4gICAgJl9faW5wdXQge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxuICAgICAgaGVpZ2h0OiBtYXgtY29udGVudDtcbiAgICAgIHdpZHRoOiA3NSU7XG4gICAgfVxuXG4gICAgJl9faW5wdXQtd2ViYXV0aG4ge1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1xuXG4gICAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xuICAgICAgcGFkZGluZzogMnJlbSAwO1xuXG4gICAgICBwIHtcbiAgICAgICAgZm9udC1zaXplOiAxLjVyZW07XG4gICAgICB9XG5cbiAgICAgIGkge1xuICAgICAgICBmb250LXNpemU6IDVyZW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgJl9fYWN0aW9ucyB7XG4gICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnI7XG5cbiAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgIGNvbHVtbi1nYXA6IDFyZW07XG5cbiAgICAgIGJ1dHRvbiB7XG4gICAgICAgIGdyaWQtcm93OiAxIC8gMjtcbiAgICAgIH1cblxuICAgICAgaSB7XG4gICAgICAgIGdyaWQtcm93OiAxIC8gMjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLnJlbGF0ZWQtbGlua3Mge1xuICBkaXNwbGF5OiBncmlkO1xuICBncmlkLXRlbXBsYXRlLXJvd3M6IDFmcjtcblxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgY29sdW1uLWdhcDogMXJlbTtcblxuICBib3JkZXI6ICRkZWJ1Zy1ib3JkZXJzO1xuXG4gIG1hdC1jaGlwIHtcbiAgICBncmlkLXJvdzogMSAvIDI7XG4gIH1cbn1cblxucCB7XG4gIG1hcmdpbjogMDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}\nvar AuthStagesEnum;\n(function (AuthStagesEnum) {\n  AuthStagesEnum[AuthStagesEnum[\"EMAIL\"] = 0] = \"EMAIL\";\n  AuthStagesEnum[AuthStagesEnum[\"CREDENTIALS\"] = 1] = \"CREDENTIALS\";\n  AuthStagesEnum[AuthStagesEnum[\"WEBAUTHNLOGIN\"] = 2] = \"WEBAUTHNLOGIN\";\n  AuthStagesEnum[AuthStagesEnum[\"FORGOTPASSWORD\"] = 3] = \"FORGOTPASSWORD\";\n})(AuthStagesEnum || (AuthStagesEnum = {}));","map":{"version":3,"names":["FormControl","Validators","AuthenticationService","AuthLoginDetails","ToastService","UserService","AuthenticatorService","ThemeService","EThemeOptions","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r8","getErrorMessage","email","ɵɵelement","ɵɵtemplate","AuthenticateComponent_div_12_mat_error_5_Template","ɵɵproperty","ctx_r0","invalid","ctx_r9","password","AuthenticateComponent_div_13_mat_error_5_Template","ɵɵlistener","AuthenticateComponent_div_13_Template_button_click_6_listener","ɵɵrestoreView","_r11","ctx_r10","ɵɵnextContext","ɵɵresetView","hide_password","ctx_r1","ɵɵattribute","AuthenticateComponent_button_16_Template_button_click_0_listener","_r13","ctx_r12","submitEmail","AuthenticateComponent_button_17_Template_button_click_0_listener","_r15","ctx_r14","submitPassword","AuthenticateComponent_button_18_Template_button_click_0_listener","_r17","ctx_r16","auth_type","AuthStagesEnum","EMAIL","AuthenticateComponent_mat_chip_28_Template_mat_chip_click_0_listener","_r19","ctx_r18","theme_service","setTheme","DARK_THEME","AuthenticateComponent_mat_chip_29_Template_mat_chip_click_0_listener","_r21","ctx_r20","LIGHT_THEME","AuthenticateComponent","constructor","auth_service","authenticator_service","user_service","toast_service","router","required","pattern","window","element","hasError","_this","_asyncToGenerator","valid","value","userHasAuthenticators","WEBAUTHNLOGIN","submitWebAuthn","CREDENTIALS","markAsTouched","_this2","authLoginDetails","setUsername","String","setPassword","authenticatePassword","navigate","_this3","startAuthnLogin","ɵɵdirectiveInject","i1","Router","selectors","decls","vars","consts","template","AuthenticateComponent_Template","rf","ctx","AuthenticateComponent_div_12_Template","AuthenticateComponent_div_13_Template","AuthenticateComponent_div_14_Template","AuthenticateComponent_button_16_Template","AuthenticateComponent_button_17_Template","AuthenticateComponent_button_18_Template","AuthenticateComponent_Template_mat_chip_click_20_listener","open","AuthenticateComponent_Template_mat_chip_click_22_listener","AuthenticateComponent_Template_mat_chip_click_24_listener","AuthenticateComponent_Template_mat_chip_click_26_listener","AuthenticateComponent_mat_chip_28_Template","AuthenticateComponent_mat_chip_29_Template","getTheme"],"sources":["/Users/martin.perez.cobo/Documents/Repositories/Academics-FrontEnd/src/app/modules/authenticate/components/authenticate/authenticate.component.ts","/Users/martin.perez.cobo/Documents/Repositories/Academics-FrontEnd/src/app/modules/authenticate/components/authenticate/authenticate.component.html"],"sourcesContent":["import {FormControl, Validators} from \"@angular/forms\";\nimport {Component} from \"@angular/core\";\nimport AuthenticationService from \"../../../../services/AuthenticationService\";\nimport AuthLoginDetails from \"../../../../../models/dtos/AuthLoginDetails\";\nimport ToastService from \"../../../../services/ToastService\";\nimport UserService from \"../../../../services/UserService\";\nimport AuthenticatorService from \"../../../../services/AuthenticatorService\";\nimport {Router} from \"@angular/router\";\nimport ThemeService, {EThemeOptions} from \"../../../../services/ThemeService\";\n\n\n@Component({\n  selector: 'app-authenticate',\n  templateUrl: './authenticate.component.html',\n  styleUrls: ['./authenticate.component.scss'],\n})\nexport class AuthenticateComponent {\n  protected auth_type: AuthStagesEnum = AuthStagesEnum.EMAIL;\n  protected email: FormControl<string | null> = new FormControl('', [Validators.required, Validators.email, Validators.pattern(\"^[A-Za-z0-9._%+-]+@ucema\\\\.edu\\\\.ar$\")]);\n  protected password: FormControl<string | null> = new FormControl('', [Validators.required]);\n  protected hide_password: boolean = true;\n  protected readonly AuthStagesEnum = AuthStagesEnum;\n  protected readonly window = window;\n  protected readonly EThemeOptions = EThemeOptions;\n\n  constructor(\n    private auth_service: AuthenticationService,\n    protected authenticator_service: AuthenticatorService,\n    private user_service: UserService,\n    private toast_service: ToastService,\n    private router: Router,\n    protected theme_service: ThemeService\n  ) {\n  }\n\n  protected getErrorMessage(element: FormControl) {\n    if (element.hasError('required')) {\n      return 'Required';\n    }\n    if (element.hasError('email') || element.hasError('pattern')) {\n      return 'Not a valid email';\n    }\n\n    return null;\n  }\n\n  protected async submitEmail(): Promise<void> {\n    if (this.email.valid && this.email.value) {\n      if (await this.authenticator_service.userHasAuthenticators(this.email.value)) {\n        this.auth_type = AuthStagesEnum.WEBAUTHNLOGIN;\n        await this.submitWebAuthn();\n      } else {\n        this.auth_type = AuthStagesEnum.CREDENTIALS;\n      }\n    } else {\n      this.email.markAsTouched();\n    }\n  }\n\n  protected async submitPassword(): Promise<void> {\n    if (this.password.valid) {\n      let authLoginDetails = new AuthLoginDetails();\n      authLoginDetails.setUsername(String(this.email.value));\n      authLoginDetails.setPassword(String(this.password.value));\n\n      if (await this.auth_service.authenticatePassword(authLoginDetails)) {\n\n        this.router.navigate(['/']);\n      } else {\n        this.auth_type = AuthStagesEnum.CREDENTIALS;\n      }\n    } else {\n      this.password.markAsTouched();\n    }\n  }\n\n  protected async submitWebAuthn(): Promise<void> {\n    this.auth_type = AuthStagesEnum.WEBAUTHNLOGIN;\n    let authLoginDetails = new AuthLoginDetails();\n    authLoginDetails.setUsername(String(this.email.value));\n\n    if (await this.auth_service.startAuthnLogin(authLoginDetails)) {\n      await this.router.navigate(['/']);\n    } else {\n      this.auth_type = AuthStagesEnum.CREDENTIALS;\n    }\n  }\n}\n\nenum AuthStagesEnum {\n  EMAIL,\n  CREDENTIALS,\n  WEBAUTHNLOGIN,\n  FORGOTPASSWORD,\n}\n","<div class=\"component mat-app-background\">\n  <div class=\"component__side-background\">\n  </div>\n  <div class=\"component__form\">\n    <form class=\"form\">\n      <div class=\"form__header\">\n        <div class=\"form__header__title\">\n          <h4>Sign in with your UCEMA ID</h4>\n        </div>\n        <div class=\"form__header__subtitle\">\n          <p>Get access to your academic details.</p>\n        </div>\n      </div>\n\n      <div class=\"form__body\">\n        <!-- ! Email Input -->\n        <div *ngIf=\"auth_type == AuthStagesEnum.EMAIL\" class=\"form__body__input\">\n          <mat-form-field hideRequiredMarker=\"true\">\n            <mat-label>Email</mat-label>\n            <input [formControl]=\"email\" matInput required>\n            <mat-error *ngIf=\"email.invalid\">{{getErrorMessage(email)}}</mat-error>\n          </mat-form-field>\n        </div>\n\n        <!-- ! Password Input -->\n        <div *ngIf=\"auth_type == AuthStagesEnum.CREDENTIALS\" class=\"form__body__input\">\n          <mat-form-field hideRequiredMarker=\"true\">\n            <mat-label>Enter your password</mat-label>\n            <input [formControl]=\"password\" [type]=\"hide_password ? 'password' : 'text'\" matInput>\n            <mat-error *ngIf=\"password.invalid\">{{getErrorMessage(password)}}</mat-error>\n            <button (click)=\"hide_password = !hide_password\" [attr.aria-label]=\"'Hide password'\"\n                    [attr.aria-pressed]=\"hide_password\"\n                    mat-icon-button\n                    matSuffix\n            >\n              <mat-icon>{{hide_password ? 'visibility_off' : 'visibility'}}</mat-icon>\n            </button>\n          </mat-form-field>\n        </div>\n\n        <!-- ! WebAuthn Login -->\n        <div *ngIf=\"auth_type == AuthStagesEnum.WEBAUTHNLOGIN\" class=\"form__body__input-webauthn\">\n          <i class=\"bi bi-fingerprint\" style=\"font-size: 5rem;\"></i>\n        </div>\n\n        <!-- ! Actions -->\n        <div class=\"form__body__actions\">\n          <!-- * Email -->\n\n          <button (click)=\"submitEmail()\" *ngIf=\"auth_type == AuthStagesEnum.EMAIL\" color=\"primary\" mat-flat-button\n                  type=\"button\">\n            Next\n          </button>\n\n          <!-- * Credentials -->\n\n          <button (click)=\"submitPassword()\" *ngIf=\"auth_type == AuthStagesEnum.CREDENTIALS\" color=\"primary\"\n                  mat-flat-button\n                  type=\"button\">Login\n          </button>\n\n          <button (click)=\"this.auth_type = AuthStagesEnum.EMAIL\" *ngIf=\"auth_type == AuthStagesEnum.CREDENTIALS\"\n                  mat-flat-button\n                  type=\"button\">\n            Back\n          </button>\n        </div>\n      </div>\n    </form>\n    <div class=\"related-links\">\n      <mat-chip (click)=\"window.open('mailto:alumnosgrado@ucema.edu.ar', '_self')\">\n        Alumnos Grado\n      </mat-chip>\n      <mat-chip (click)=\"window.open('mailto:alumnosposgrado@ucema.edu.ar', '_self')\">\n        Alumnos Posgrado\n      </mat-chip>\n      <mat-chip (click)=\"window.open('mailto:cobranzas@ucema.edu.ar', '_self')\">\n        Tesoreria\n      </mat-chip>\n      <mat-chip (click)=\"window.open('mailto:biblioteca@ucema.edu.ar', '_self')\">\n        Bilbioteca\n      </mat-chip>\n\n      <mat-chip (click)=\"this.theme_service.setTheme(EThemeOptions.DARK_THEME)\"\n                *ngIf=\"this.theme_service.getTheme() == EThemeOptions.LIGHT_THEME\"\n      >\n        <div\n          class=\"d-flex flex-row justify-content-center justify-items-center align-content-center align-items-center column-gap-1\">\n          <mat-icon\n            class=\"d-flex flex-row justify-content-center justify-items-center align-content-center align-items-center\">\n            <i class=\"bi bi-moon-fill\" style=\"font-size: 1.1rem;\"></i>\n          </mat-icon>\n          Dark Mode\n        </div>\n      </mat-chip>\n\n      <mat-chip (click)=\"theme_service.setTheme(EThemeOptions.LIGHT_THEME)\"\n                *ngIf=\"this.theme_service.getTheme() == EThemeOptions.DARK_THEME\"\n      >\n        <div\n          class=\"d-flex flex-row justify-content-center justify-items-center align-content-center align-items-center column-gap-1\">\n          <mat-icon\n            class=\"d-flex flex-row justify-content-center justify-items-center align-content-center align-items-center\">\n            <i class=\"bi bi-sun-fill\" style=\"font-size: 1.25rem;\"></i>\n          </mat-icon>\n          Light Mode\n        </div>\n      </mat-chip>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}