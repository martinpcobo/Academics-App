{"ast":null,"code":"import _asyncToGenerator from \"/Users/martin.perez.cobo/Documents/Repositories/Academics-App/academics-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport ThemeService from \"../../../../services/ThemeService\";\nimport AuthenticationService from \"../../../../services/AuthenticationService\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport AuthenticatorService from \"../../../../services/AuthenticatorService\";\nimport AuthLoginDetails from \"../../../../../models/dtos/AuthLoginDetails\";\nimport { AuthenticatorDialogComponent } from \"./authenticator-dialog/authenticator-dialog.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"./authenticator/authenticator.component\";\nfunction ProfileComponent_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 24)(2, \"span\");\n    i0.ɵɵtext(3, \"Todavia no registraste ninguna Passkey.\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction ProfileComponent_div_67_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 29)(1, \"app-authenticator\", 30);\n    i0.ɵɵlistener(\"refreshAuthenticators\", function ProfileComponent_div_67_div_1_Template_app_authenticator_refreshAuthenticators_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.refreshAuthenticators());\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const authenticator_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"authenticator\", authenticator_r4);\n  }\n}\nfunction ProfileComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtemplate(1, ProfileComponent_div_67_div_1_Template, 2, 1, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.user_authenticators);\n  }\n}\nfunction ProfileComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24)(2, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_div_68_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.startAuthenticatorRegistration());\n    });\n    i0.ɵɵtext(3, \"Register new Passkey \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class ProfileComponent {\n  // Constructor\n  constructor(dialog, theme_service, authentication_service, authenticator_service) {\n    this.dialog = dialog;\n    this.theme_service = theme_service;\n    this.authentication_service = authentication_service;\n    this.authenticator_service = authenticator_service;\n    // Properties\n    this.AuthLoginDetails = AuthLoginDetails;\n    this.hide_password = true;\n    this.change_password = new FormGroup({\n      old_password: new FormControl('', [Validators.required]),\n      new_password: new FormControl('', [Validators.required])\n    });\n    this.user_authenticators = [];\n    this.user = null;\n  }\n  // Component's Lifecycle\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.user = _this.authentication_service.getUser();\n      yield _this.refreshAuthenticators();\n      _this.authentication_service.getUserObserver().subscribe({\n        next: function () {\n          var _ref = _asyncToGenerator(function* (new_user) {\n            _this.user = new_user;\n            yield _this.refreshAuthenticators();\n          });\n          return function next(_x) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        error: error => {\n          _this.user_authenticators = [];\n        }\n      });\n    })();\n  }\n  // Methods - Business Logic\n  refreshAuthenticators() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      let user_id = _this2.user?.getIdentifier();\n      if (_this2.user && user_id) {\n        _this2.user_authenticators = yield _this2.authenticator_service.getAuthenticatorsFromUser(user_id);\n        console.log(_this2.user_authenticators);\n      }\n    })();\n  }\n  submitChangePassword() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      yield _this3.authentication_service.changePassword(_this3.change_password.value.old_password, _this3.change_password.value.new_password);\n      _this3.change_password.reset();\n    })();\n  }\n  startAuthenticatorRegistration() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const dialogRef = _this4.dialog.open(AuthenticatorDialogComponent, {\n        data: {\n          title: \"Passkey name\"\n        }\n      });\n      dialogRef.afterClosed().subscribe( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (result) {\n          let user_id = _this4.user?.getIdentifier();\n          if (_this4.user && user_id) {\n            let auth_details = new AuthLoginDetails();\n            auth_details.setUsername(_this4.user.getVerifiedEmail());\n            auth_details.setAuthenticatorName(result.toString());\n            yield _this4.authentication_service.startAuthnRegistration(auth_details);\n            _this4.user_authenticators = yield _this4.authenticator_service.getAuthenticatorsFromUser(user_id);\n          }\n        });\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n  parseUserRoles() {\n    return this.user?.getRoles()?.toString().split(',').map(role => {\n      return role[0] + role.toLowerCase().slice(1, role.length);\n    }).join(', ').replace('None', '');\n  }\n  static {\n    this.ɵfac = function ProfileComponent_Factory(t) {\n      return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(ThemeService), i0.ɵɵdirectiveInject(AuthenticationService), i0.ɵɵdirectiveInject(AuthenticatorService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProfileComponent,\n      selectors: [[\"app-profile\"]],\n      decls: 69,\n      vars: 10,\n      consts: [[1, \"profile\", \"mat-typography\", \"mat-app-background\"], [1, \"profile__header\"], [1, \"profile__header__photo\"], [1, \"bi\", \"bi-person-circle\"], [1, \"profile__header__info\"], [1, \"profile__header__info__name\"], [1, \"profile__header__info__title\"], [1, \"profile__body\"], [1, \"profile__body__content\"], [1, \"profile__body__content__info\"], [1, \"profile__body__content__info__title\"], [1, \"profile__body__content__info__description\"], [1, \"profile__body__content__body\"], [1, \"row\", \"w-100\"], [1, \"col-6\"], [\"type\", \"text\", \"id\", \"name\", \"disabled\", \"\", \"readonly\", \"\", 1, \"form-control\", 3, \"value\"], [\"type\", \"text\", \"id\", \"last_name\", \"readonly\", \"\", \"disabled\", \"\", 1, \"form-control\", 3, \"value\"], [\"type\", \"text\", \"id\", \"edu_email\", \"readonly\", \"\", \"disabled\", \"\", 1, \"form-control\", \"w-100\", 3, \"value\"], [1, \"col-6\", 3, \"formGroup\"], [\"for\", \"old_password\", 1, \"col-form-label\"], [\"type\", \"password\", \"id\", \"old_password\", \"formControlName\", \"old_password\", \"aria-labelledby\", \"passwordHelpInline\", 1, \"form-control\"], [\"for\", \"new_password\", 1, \"col-form-label\"], [\"type\", \"password\", \"id\", \"new_password\", \"formControlName\", \"new_password\", \"aria-labelledby\", \"passwordHelpInline\", 1, \"form-control\"], [1, \"row\"], [1, \"col-12\"], [\"color\", \"primary\", \"mat-flat-button\", \"\", \"type\", \"button\", 3, \"disabled\", \"click\"], [\"class\", \"row w-100\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"class\", \"col-4\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-4\"], [3, \"authenticator\", \"refreshAuthenticators\"], [\"color\", \"primary\", \"mat-flat-button\", \"\", \"type\", \"button\", 3, \"click\"]],\n      template: function ProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"i\", 3);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"h2\");\n          i0.ɵɵtext(7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"span\");\n          i0.ɵɵtext(10);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(11, \"div\", 7)(12, \"div\", 8)(13, \"div\", 9)(14, \"div\", 10)(15, \"p\");\n          i0.ɵɵtext(16, \"Datos Personales\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(17, \"div\", 11)(18, \"span\");\n          i0.ɵɵtext(19, \"Representa la informaci\\u00F3n personal con la que la UCEMA cuenta sobre usted.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(20, \"div\", 12)(21, \"div\", 13)(22, \"div\", 14)(23, \"label\");\n          i0.ɵɵtext(24, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"input\", 15);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"div\", 13)(27, \"div\", 14)(28, \"label\");\n          i0.ɵɵtext(29, \"Apellido\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(30, \"input\", 16);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(31, \"div\", 13)(32, \"div\", 14)(33, \"label\");\n          i0.ɵɵtext(34, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(35, \"input\", 17);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(36, \"div\", 8)(37, \"div\", 9)(38, \"div\", 10)(39, \"p\");\n          i0.ɵɵtext(40, \"Contrase\\u00F1a\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(41, \"div\", 11)(42, \"span\");\n          i0.ɵɵtext(43, \"Se recomienda que la contrase\\u00F1a sea unica y cambiada cada una determinada cantidad de tiempo.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(44, \"div\", 12)(45, \"div\", 13)(46, \"div\", 18)(47, \"label\", 19);\n          i0.ɵɵtext(48, \"Old Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(49, \"input\", 20);\n          i0.ɵɵelementStart(50, \"label\", 21);\n          i0.ɵɵtext(51, \"New Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(52, \"input\", 22);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 23)(54, \"div\", 24)(55, \"button\", 25);\n          i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_55_listener() {\n            return ctx.submitChangePassword();\n          });\n          i0.ɵɵtext(56, \"Change Password \");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(57, \"div\", 8)(58, \"div\", 9)(59, \"div\", 10)(60, \"p\");\n          i0.ɵɵtext(61, \"Passkeys\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(62, \"div\", 11)(63, \"span\");\n          i0.ɵɵtext(64, \"Es altamente recomendable crear una Passkey para facilitar el inicio de sesi\\u00F3n a la plataforma.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(65, \"div\", 12);\n          i0.ɵɵtemplate(66, ProfileComponent_div_66_Template, 4, 0, \"div\", 26);\n          i0.ɵɵtemplate(67, ProfileComponent_div_67_Template, 2, 1, \"div\", 26);\n          i0.ɵɵtemplate(68, ProfileComponent_div_68_Template, 4, 0, \"div\", 27);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtextInterpolate(ctx.user == null ? null : ctx.user.getName());\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate(ctx.parseUserRoles());\n          i0.ɵɵadvance(15);\n          i0.ɵɵpropertyInterpolate(\"value\", ctx.user == null ? null : ctx.user.getFirstName());\n          i0.ɵɵadvance(5);\n          i0.ɵɵpropertyInterpolate(\"value\", ctx.user == null ? null : ctx.user.getLastName());\n          i0.ɵɵadvance(5);\n          i0.ɵɵpropertyInterpolate(\"value\", ctx.user == null ? null : ctx.user.getVerifiedEmail());\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"formGroup\", ctx.change_password);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"disabled\", ctx.change_password.invalid);\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngIf\", ctx.user_authenticators.length == 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.user_authenticators.length != 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.user_authenticators.length < 2);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.MatButton, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.AuthenticatorComponent],\n      styles: [\"span[_ngcontent-%COMP%] {\\n  color: #b0b0b0;\\n}\\n\\n.profile[_ngcontent-%COMP%] {\\n  height: 100vh;\\n  width: 100%;\\n  padding: 2rem;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  grid-template-columns: 1fr;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  row-gap: 1rem;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__header[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: grid;\\n  grid-template-columns: max-content 1fr;\\n  justify-content: flex-start;\\n  align-items: center;\\n  column-gap: 1rem;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__header[_ngcontent-%COMP%]   .profile__header__photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 10vw;\\n  border-radius: 10%;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__header[_ngcontent-%COMP%]   .profile__header__photo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  font-size: 8vw;\\n  border-radius: 10%;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__header[_ngcontent-%COMP%]   .profile__header__info[_ngcontent-%COMP%]   .profile__header__info__name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 1.8rem;\\n  font-weight: 500;\\n  margin: 0;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__summary[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__summary[_ngcontent-%COMP%]   .profile__summary__title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1.2rem;\\n  font-weight: 500;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__body[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  row-gap: 1rem;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__body[_ngcontent-%COMP%]   .profile__body__content[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: 0.4fr 1fr;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  column-gap: 5rem;\\n  border-top: #b0b0b0 1px solid;\\n  padding: 1rem 0 0 0;\\n  width: 100%;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__body[_ngcontent-%COMP%]   .profile__body__content[_ngcontent-%COMP%]   .profile__body__content__info[_ngcontent-%COMP%]   .profile__body__content__info__title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  font-size: 1rem;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__body[_ngcontent-%COMP%]   .profile__body__content[_ngcontent-%COMP%]   .profile__body__content__body[_ngcontent-%COMP%] {\\n  height: 100%;\\n  display: flex;\\n  flex-flow: column nowrap;\\n  justify-content: stretch;\\n  align-items: flex-start;\\n  row-gap: 0.5rem;\\n}\\n.profile[_ngcontent-%COMP%]   .profile__body[_ngcontent-%COMP%]   .profile__body__content[_ngcontent-%COMP%]   .profile__body__content__body[_ngcontent-%COMP%]   .authenticators_list[_ngcontent-%COMP%] {\\n  width: 100%;\\n  display: flex;\\n  flex-flow: row wrap;\\n  justify-content: flex-start;\\n  align-items: center;\\n  column-gap: 1rem;\\n  row-gap: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9kYXNoYm9hcmQvY29tcG9uZW50cy9wcm9maWxlL3Byb2ZpbGUuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0EsV0FBQTtFQUVBLGFBQUE7RUFFQSxhQUFBO0VBQ0Esd0JBQUE7RUFFQSwwQkFBQTtFQUVBLDJCQUFBO0VBQ0EsdUJBQUE7RUFFQSxhQUFBO0FBSkY7QUFNRTtFQUNFLFdBQUE7RUFFQSxhQUFBO0VBQ0Esc0NBQUE7RUFFQSwyQkFBQTtFQUNBLG1CQUFBO0VBRUEsZ0JBQUE7QUFQSjtBQVVNO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0FBUlI7QUFVTTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtBQVJSO0FBY1E7RUFDRSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtBQVpWO0FBdUJFO0VBQ0UsV0FBQTtBQXJCSjtBQXdCTTtFQUNFLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBdEJSO0FBOEJFO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFFQSxhQUFBO0VBQ0Esd0JBQUE7RUFFQSwyQkFBQTtFQUNBLHVCQUFBO0VBRUEsYUFBQTtBQS9CSjtBQWlDSTtFQUNFLGFBQUE7RUFDQSxnQ0FBQTtFQUVBLDJCQUFBO0VBQ0EsdUJBQUE7RUFFQSxnQkFBQTtFQUVBLDZCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBbENOO0FBc0NVO0VBQ0UsU0FBQTtFQUNBLFVBQUE7RUFDQSxlQUFBO0FBcENaO0FBK0NNO0VBQ0UsWUFBQTtFQUVBLGFBQUE7RUFDQSx3QkFBQTtFQUVBLHdCQUFBO0VBQ0EsdUJBQUE7RUFFQSxlQUFBO0FBaERSO0FBa0RRO0VBQ0UsV0FBQTtFQUVBLGFBQUE7RUFDQSxtQkFBQTtFQUVBLDJCQUFBO0VBQ0EsbUJBQUE7RUFFQSxnQkFBQTtFQUNBLGFBQUE7QUFuRFYiLCJzb3VyY2VzQ29udGVudCI6WyJzcGFuIHtcbiAgY29sb3I6ICNiMGIwYjA7XG59XG5cbi5wcm9maWxlIHtcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgd2lkdGg6IDEwMCU7XG5cbiAgcGFkZGluZzogMnJlbTtcblxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWZsb3c6IGNvbHVtbiBub3dyYXA7XG5cbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG5cbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxuICByb3ctZ2FwOiAxcmVtO1xuXG4gIC5wcm9maWxlX19oZWFkZXIge1xuICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1heC1jb250ZW50IDFmcjtcblxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuXG4gICAgY29sdW1uLWdhcDogMXJlbTtcblxuICAgIC5wcm9maWxlX19oZWFkZXJfX3Bob3RvIHtcbiAgICAgIGltZyB7XG4gICAgICAgIHdpZHRoOiAxMHZ3O1xuICAgICAgICBib3JkZXItcmFkaXVzOiAxMCU7XG4gICAgICB9XG4gICAgICBpIHtcbiAgICAgICAgZm9udC1zaXplOiA4dnc7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDEwJTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAucHJvZmlsZV9faGVhZGVyX19pbmZvIHtcbiAgICAgIC5wcm9maWxlX19oZWFkZXJfX2luZm9fX25hbWUge1xuICAgICAgICBoMiB7XG4gICAgICAgICAgZm9udC1zaXplOiAxLjhyZW07XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLnByb2ZpbGVfX2hlYWRlcl9faW5mb19fdGl0bGUge1xuICAgICAgICBzcGFuIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC5wcm9maWxlX19zdW1tYXJ5IHtcbiAgICB3aWR0aDogMTAwJTtcblxuICAgIC5wcm9maWxlX19zdW1tYXJ5X190aXRsZSB7XG4gICAgICBoMyB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLnByb2ZpbGVfX3N1bW1hcnlfX2NvbnRlbnQge1xuICAgIH1cbiAgfVxuXG4gIC5wcm9maWxlX19ib2R5IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZmxvdzogY29sdW1uIG5vd3JhcDtcblxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcblxuICAgIHJvdy1nYXA6IDFyZW07XG5cbiAgICAucHJvZmlsZV9fYm9keV9fY29udGVudCB7XG4gICAgICBkaXNwbGF5OiBncmlkO1xuICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAuNGZyIDFmcjtcblxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cbiAgICAgIGNvbHVtbi1nYXA6IDVyZW07XG5cbiAgICAgIGJvcmRlci10b3A6ICNiMGIwYjAgMXB4IHNvbGlkO1xuICAgICAgcGFkZGluZzogMXJlbSAwIDAgMDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgICAucHJvZmlsZV9fYm9keV9fY29udGVudF9faW5mbyB7XG4gICAgICAgIC5wcm9maWxlX19ib2R5X19jb250ZW50X19pbmZvX190aXRsZSB7XG4gICAgICAgICAgcCB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5wcm9maWxlX19ib2R5X19jb250ZW50X19pbmZvX19kZXNjcmlwdGlvbiB7XG4gICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgICAgLnByb2ZpbGVfX2JvZHlfX2NvbnRlbnRfX2JvZHkge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG5cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC1mbG93OiBjb2x1bW4gbm93cmFwO1xuXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG5cbiAgICAgICAgcm93LWdhcDogLjVyZW07XG5cbiAgICAgICAgLmF1dGhlbnRpY2F0b3JzX2xpc3Qge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuXG4gICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICBmbGV4LWZsb3c6IHJvdyB3cmFwO1xuXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAgICAgICBjb2x1bW4tZ2FwOiAxcmVtO1xuICAgICAgICAgIHJvdy1nYXA6IDFyZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["ThemeService","AuthenticationService","FormControl","FormGroup","Validators","AuthenticatorService","AuthLoginDetails","AuthenticatorDialogComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProfileComponent_div_67_div_1_Template_app_authenticator_refreshAuthenticators_1_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","refreshAuthenticators","ɵɵadvance","ɵɵproperty","authenticator_r4","ɵɵtemplate","ProfileComponent_div_67_div_1_Template","ctx_r1","user_authenticators","ProfileComponent_div_68_Template_button_click_2_listener","_r8","ctx_r7","startAuthenticatorRegistration","ProfileComponent","constructor","dialog","theme_service","authentication_service","authenticator_service","hide_password","change_password","old_password","required","new_password","user","ngOnInit","_this","_asyncToGenerator","getUser","getUserObserver","subscribe","next","_ref","new_user","_x","apply","arguments","error","_this2","user_id","getIdentifier","getAuthenticatorsFromUser","console","log","submitChangePassword","_this3","changePassword","value","reset","_this4","dialogRef","open","data","title","afterClosed","_ref2","result","auth_details","setUsername","getVerifiedEmail","setAuthenticatorName","toString","startAuthnRegistration","_x2","parseUserRoles","getRoles","split","map","role","toLowerCase","slice","length","join","replace","ɵɵdirectiveInject","i1","MatDialog","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ɵɵelement","ProfileComponent_Template_button_click_55_listener","ProfileComponent_div_66_Template","ProfileComponent_div_67_Template","ProfileComponent_div_68_Template","ɵɵtextInterpolate","getName","ɵɵpropertyInterpolate","getFirstName","getLastName","invalid"],"sources":["/Users/martin.perez.cobo/Documents/Repositories/Academics-App/academics-frontend/src/app/modules/dashboard/components/profile/profile.component.ts","/Users/martin.perez.cobo/Documents/Repositories/Academics-App/academics-frontend/src/app/modules/dashboard/components/profile/profile.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport ThemeService from \"../../../../services/ThemeService\";\nimport AuthenticationService from \"../../../../services/AuthenticationService\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport AuthenticatorService from \"../../../../services/AuthenticatorService\";\nimport Authenticator from \"../../../../../models/Authenticator\";\nimport User from \"../../../../../models/User\";\nimport AuthLoginDetails from \"../../../../../models/dtos/AuthLoginDetails\";\nimport {MatDialog, MatDialogRef} from \"@angular/material/dialog\";\nimport {AuthenticatorDialogComponent} from \"./authenticator-dialog/authenticator-dialog.component\";\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n})\nexport class ProfileComponent implements OnInit {\n  // Properties\n  protected readonly AuthLoginDetails = AuthLoginDetails;\n  protected hide_password: boolean = true;\n\n  protected change_password: FormGroup = new FormGroup({\n    old_password: new FormControl<String | null>('', [Validators.required]),\n    new_password: new FormControl<String | null>('', [Validators.required])\n  });\n\n  protected user_authenticators: Authenticator[] = [];\n  protected user: User | null = null;\n\n  // Constructor\n  constructor(\n    public dialog: MatDialog,\n    protected theme_service: ThemeService,\n    protected authentication_service: AuthenticationService,\n    protected authenticator_service: AuthenticatorService\n  ) {\n  }\n\n  // Component's Lifecycle\n  async ngOnInit() {\n    this.user = this.authentication_service.getUser();\n    await this.refreshAuthenticators();\n\n    this.authentication_service.getUserObserver().subscribe({\n      next: async (new_user: User | null) => {\n        this.user = new_user;\n\n        await this.refreshAuthenticators();\n      }, error: (error) => {\n        this.user_authenticators = [];\n      }\n    });\n  }\n\n  // Methods - Business Logic\n\n  public async refreshAuthenticators(): Promise<void> {\n    let user_id: String | undefined = this.user?.getIdentifier();\n\n    if (this.user && user_id) {\n      this.user_authenticators = await this.authenticator_service.getAuthenticatorsFromUser(user_id);\n      console.log(this.user_authenticators);\n    }\n  }\n\n  protected async submitChangePassword(): Promise<void> {\n    await this.authentication_service.changePassword(this.change_password.value.old_password, this.change_password.value.new_password);\n\n    this.change_password.reset();\n  }\n\n  protected async startAuthenticatorRegistration(): Promise<void> {\n    const dialogRef: MatDialogRef<AuthenticatorDialogComponent> = this.dialog.open(AuthenticatorDialogComponent, {\n      data: {\n        title: \"Passkey name\",\n      }\n    });\n\n    dialogRef.afterClosed().subscribe(async (result) => {\n      let user_id: String | undefined = this.user?.getIdentifier();\n      if (this.user && user_id) {\n        let auth_details: AuthLoginDetails = new AuthLoginDetails();\n        auth_details.setUsername(this.user.getVerifiedEmail());\n        auth_details.setAuthenticatorName(result.toString());\n\n        await this.authentication_service.startAuthnRegistration(auth_details);\n\n        this.user_authenticators = await this.authenticator_service.getAuthenticatorsFromUser(user_id);\n      }\n    });\n  }\n\n  protected parseUserRoles() : String | undefined{\n    return this.user?.getRoles()?.toString().split(',').map((role) => { return role[0] + role.toLowerCase().slice(1, role.length); }).join(', ').replace('None', '');\n  }\n}\n","<div class=\"profile mat-typography mat-app-background\">\n  <div class=\"profile__header\">\n    <div class=\"profile__header__photo\">\n      <i class=\"bi bi-person-circle\"></i>\n    </div>\n    <div class=\"profile__header__info\">\n      <div class=\"profile__header__info__name\">\n        <h2>{{this.user?.getName()}}</h2>\n      </div>\n      <div class=\"profile__header__info__title\">\n        <span>{{this.parseUserRoles()}}</span>\n      </div>\n    </div>\n  </div>\n  <!--\n  <div class=\"profile__summary\">\n    <div class=\"profile__summary__title\">\n      <h3></h3>\n    </div>\n    <div class=\"profile__summary__content\">\n      <span></span>\n    </div>\n  </div>\n  -->\n  <div class=\"profile__body\">\n    <!-- ! Personal Information -->\n    <div class=\"profile__body__content\">\n      <div class=\"profile__body__content__info\">\n        <div class=\"profile__body__content__info__title\">\n          <p>Datos Personales</p>\n        </div>\n        <div class=\"profile__body__content__info__description\">\n          <span>Representa la información personal con la que la UCEMA cuenta sobre usted.</span>\n        </div>\n      </div>\n      <div class=\"profile__body__content__body\">\n        <div class=\"row w-100\">\n          <div class=\"col-6\">\n            <label>Nombre</label>\n            <input type=\"text\" id=\"name\"\n                   class=\"form-control\"\n                   value=\"{{this.user?.getFirstName()}}\"\n                   disabled\n                   readonly\n            >\n          </div>\n        </div>\n        <div class=\"row w-100\">\n          <div class=\"col-6\">\n\n            <label>Apellido</label>\n            <input type=\"text\" id=\"last_name\"\n                   class=\"form-control\"\n                   value=\"{{this.user?.getLastName()}}\"\n                   readonly\n                   disabled\n            >\n          </div>\n        </div>\n        <div class=\"row w-100\">\n          <div class=\"col-6\">\n            <label>Email</label>\n            <input type=\"text\" id=\"edu_email\"\n                   class=\"form-control w-100\"\n                   value=\"{{this.user?.getVerifiedEmail()}}\"\n                   readonly\n                   disabled\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- ! Password Change -->\n    <div class=\"profile__body__content\">\n      <div class=\"profile__body__content__info\">\n        <div class=\"profile__body__content__info__title\">\n          <p>Contraseña</p>\n        </div>\n        <div class=\"profile__body__content__info__description\">\n          <span>Se recomienda que la contraseña sea unica y cambiada cada una determinada cantidad de tiempo.</span>\n        </div>\n      </div>\n      <div class=\"profile__body__content__body\">\n        <div class=\"row w-100\">\n          <div class=\"col-6\" [formGroup]=\"change_password\">\n            <label for=\"old_password\" class=\"col-form-label\">Old Password</label>\n            <input type=\"password\" id=\"old_password\" formControlName=\"old_password\"\n                   class=\"form-control\"\n                   aria-labelledby=\"passwordHelpInline\">\n\n            <label for=\"new_password\" class=\"col-form-label\">New Password</label>\n            <input type=\"password\" id=\"new_password\" formControlName=\"new_password\"\n                   class=\"form-control\"\n                   aria-labelledby=\"passwordHelpInline\">\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <button (click)=\"submitChangePassword()\" [disabled]=\"change_password.invalid\" color=\"primary\"\n                    mat-flat-button\n                    type=\"button\">Change Password\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- ! Passkeys Authenticators -->\n    <div class=\"profile__body__content\">\n      <div class=\"profile__body__content__info\">\n        <div class=\"profile__body__content__info__title\">\n          <p>Passkeys</p>\n        </div>\n        <div class=\"profile__body__content__info__description\">\n          <span>Es altamente recomendable crear una Passkey para facilitar el inicio de sesión a la plataforma.</span>\n        </div>\n      </div>\n      <div class=\"profile__body__content__body\">\n\n        <!-- No Authenticators Message -->\n        <div class=\"row w-100\" *ngIf=\"this.user_authenticators.length == 0\">\n          <div class=\"col-12\">\n            <span>Todavia no registraste ninguna Passkey.</span>\n          </div>\n        </div>\n\n        <!-- Authenticators List -->\n        <div class=\"row w-100\" *ngIf=\"this.user_authenticators.length != 0\">\n          <div class=\"col-4\" *ngFor=\"let authenticator of this.user_authenticators\">\n            <app-authenticator [authenticator]=\"authenticator\"\n                               (refreshAuthenticators)=\"refreshAuthenticators()\"></app-authenticator>\n          </div>\n        </div>\n\n        <!-- Set up more authenticators -->\n        <div class=\"row\" *ngIf=\"this.user_authenticators.length < 2\">\n          <div class=\"col-12\">\n            <button (click)=\"this.startAuthenticatorRegistration()\" color=\"primary\"\n                    mat-flat-button\n                    type=\"button\">Register new Passkey\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}